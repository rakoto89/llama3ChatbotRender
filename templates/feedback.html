<!DOCTYPE html> 
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Rate your experience</title>
   <link rel="stylesheet" href="{{ url_for('static', filename='feedback.css') }}">
</head>
<body>
   <div class="feedback-container">
       <div class="feedback-card">
           <h1>Rate your experience</h1>
           <p>We highly value your feedback! Rate your experience and provide us with your valuable feedback.</p>

           <form id="feedback-form" method="POST" action="/feedback">
               <!-- Emoji Rating Section -->
               <div class="emoji-rating">
                   <label>
                       <input type="radio" name="rate" value="5">
                       <span>😁 ⭐⭐⭐⭐⭐</span>
                   </label>
                   <label>
                       <input type="radio" name="rate" value="4">
                       <span>🙂 ⭐⭐⭐⭐</span>
                   </label>
                   <label>
                       <input type="radio" name="rate" value="3">
                       <span>😐 ⭐⭐⭐</span>
                   </label>
                   <label>
                       <input type="radio" name="rate" value="2">
                       <span>🙁 ⭐⭐</span>
                   </label>
                   <label>
                       <input type="radio" name="rate" value="1">
                       <span>😢 ⭐</span>
                   </label>
               </div>

               <!-- Text Box for Additional Comments -->
               <textarea id="comments" name="comments" rows="4" placeholder="Write your feedback here..."></textarea>

               <!-- Button Section -->
               <div class="button-container">
                   <button type="submit" class="btn-submit">Send Feedback</button>
                   <button type="button" id="return-chatbot" class="btn-return">Return to Chatbot</button>
                   <button type="button" id="skip-feedback" class="btn-skip">Skip Feedback</button>
               </div>
           </form>

           <div id="success-message" style="display: none;">
               <p>Thank you for your feedback!</p>
           </div>
       </div>
   </div>

   <script>
       // Handle Feedback Form Submission
       document.getElementById("feedback-form").onsubmit = function(event) {
           event.preventDefault();

           const formData = new FormData(event.target);

           fetch("/feedback", {
               method: "POST",
               body: formData
           })
           .then(response => response.text())
           .then(data => {
               document.getElementById("success-message").style.display = "block";
               event.target.reset();
           });
       };
   </script>
</body>
</html>
